!function(e,o){"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o():e.logger=o()}(this,function(){"use strict";function e(e){for(var o=[],n=0;n<e.length;++n)if("object"!==t(e[n])||e[n]instanceof String)o.push(e[n].toString());else{var r=e[n],i={};for(var c in r)i[c]=r[c],null!==i[c]&&void 0!==i[c]&&(i[c]=i[c].toString());o.push(i)}return o}function o(e){return"_"+e}function n(n){for(var t=n;console[t];)t=o(t);return console[t]=console[n],function(){var o=r({name:n,args:e(arguments)});o&&console[t].apply(console,o.args)}}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=null,i={setup:null,DISABLED:0,HTTP:1,WEBSOCKET:2,DOM:3,USER:4};return i.setup=function(e,t){if(e!==i.DISABLED){if(e!==i.HTTP&&e!==i.WEBSOCKET||"file:"!==location.protocol)if(e===i.HTTP)r=function(e){var o=new XMLHttpRequest;return o.open("POST",t),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(e)),e};else if(e===i.WEBSOCKET){var c=new WebSocket(t);r=function(e){return c.send(JSON.stringify(e)),e}}else if(e===i.DOM){var s=document.querySelector(t);r=function(e){var o=document.createElement("pre");return o.appendChild(document.createTextNode(JSON.stringify(e))),s.appendChild(o),e}}else e===i.USER&&(t instanceof Function?r=t:console.warn("The target parameter was expected to be a function, but it was",t));else console.warn("Can't perform HTTP requests from the file system. Not going to setup the error proxy, but will setup the error catch-all.");null!==r&&["log","info","warn","error"].forEach(function(e){console[e]=n(e)}),window.onerror=function(e,n,t,r,i){for(var c=!1,s="error",u={time:(new Date).toLocaleTimeString(),message:e,source:n,lineno:t,colno:r,error:i.message};!c&&console[s];)try{console[s](u),c=!0}catch(l){s=o(s)}}}},i});